<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title | default: site.github.repository_name }}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}"/>
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="main-nav">
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul id="main-nav-list">
        <li><a href="{{ "/" | relative_url }}" {% if page.url == "/" %}class="active"{% endif %}>Home</a></li>
        <li><a href="{{ "/publications.html" | relative_url }}" {% if page.url contains "publications" %}class="active"{% endif %}>Publications</a></li>
        <li><a href="{{ "/projects.html" | relative_url }}" {% if page.url contains "project" %}class="active"{% endif %}>Projects</a></li>
        <li><a href="{{ "/career.html" | relative_url }}" {% if page.url contains "career" %}class="active"{% endif %}>Career</a></li>
        <li><a href="{{ "/service.html" | relative_url }}" {% if page.url contains "service" %}class="active"{% endif %}>Service</a></li>
        <li class="search-container">
          <input type="text" id="search-input" placeholder="Search...">
          <button id="search-button">üîç</button>
        </li>
      </ul>
    </nav>

    <div class="main-content">
      {{ content }}
    </div>

    <footer>
      <!-- Visitor Map -->
      <div class="visitor-map">
        <h3>Visitor Map</h3>
        <div class="map-container">
          <script type="text/javascript" id="clustrmaps" src="//clustrmaps.com/map_v2.js?d=WLa_wUS-htil8NdYmqUuJnwdcjS90t7jc5fTz22NaL0&cl=ffffff&w=a"></script>
        </div>
      </div>
      
      {% if site.github.is_project_page %}
      <p>This project is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
      {% endif %}
      <p><small>Hosted on GitHub Pages</small></p>
    </footer>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
    <script src="{{ "/assets/js/search.js" | relative_url }}"></script>
    <script>
      // Mobile menu toggle
      document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('mobile-menu-toggle');
        const navList = document.getElementById('main-nav-list');
        
        if (menuToggle && navList) {
          menuToggle.addEventListener('click', function() {
            menuToggle.classList.toggle('active');
            navList.classList.toggle('active');
          });
          
          // Close menu when clicking a link
          const navLinks = navList.querySelectorAll('a');
          navLinks.forEach(link => {
            link.addEventListener('click', function() {
              menuToggle.classList.remove('active');
              navList.classList.remove('active');
            });
          });
          
          // Close menu when clicking outside
          document.addEventListener('click', function(event) {
            if (!menuToggle.contains(event.target) && !navList.contains(event.target)) {
              menuToggle.classList.remove('active');
              navList.classList.remove('active');
            }
          });
        }
      });
    </script>
  </body>
</html>
